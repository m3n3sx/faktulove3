<!-- Design System Alert Component -->
<div class="alert alert-{{ variant }} {% if dismissible %}alert-dismissible{% endif %} d-flex align-items-start" role="alert">
    {% if icon %}
    <div class="alert-icon me-2 mt-1">
        {% if variant == 'success' %}
            <iconify-icon icon="solar:check-circle-bold"></iconify-icon>
        {% elif variant == 'error' or variant == 'danger' %}
            <iconify-icon icon="solar:close-circle-bold"></iconify-icon>
        {% elif variant == 'warning' %}
            <iconify-icon icon="solar:danger-triangle-bold"></iconify-icon>
        {% elif variant == 'info' %}
            <iconify-icon icon="solar:info-circle-bold"></iconify-icon>
        {% else %}
            <iconify-icon icon="solar:info-circle-bold"></iconify-icon>
        {% endif %}
    </div>
    {% endif %}
    
    <div class="alert-content flex-grow-1">
        {% if title %}
        <div class="alert-title fw-bold mb-1">{{ title }}</div>
        {% endif %}
        <div class="alert-message">{{ message|safe }}</div>
    </div>
    
    {% if dismissible %}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Zamknij"></button>
    {% endif %}
</div>

<style>
.alert {
    border: 1px solid;
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 16px;
}

.alert-icon {
    font-size: 20px;
    line-height: 1;
}

.alert-title {
    font-size: 14px;
    line-height: 1.25;
}

.alert-message {
    font-size: 14px;
    line-height: 1.5;
}

/* Success variant */
.alert-success {
    background-color: #f0fdf4;
    border-color: #bbf7d0;
    color: #166534;
}

.alert-success .alert-icon {
    color: #16a34a;
}

/* Error/Danger variant */
.alert-danger,
.alert-error {
    background-color: #fef2f2;
    border-color: #fecaca;
    color: #991b1b;
}

.alert-danger .alert-icon,
.alert-error .alert-icon {
    color: #dc2626;
}

/* Warning variant */
.alert-warning {
    background-color: #fffbeb;
    border-color: #fed7aa;
    color: #92400e;
}

.alert-warning .alert-icon {
    color: #f59e0b;
}

/* Info variant */
.alert-info {
    background-color: #eff6ff;
    border-color: #bfdbfe;
    color: #1e40af;
}

.alert-info .alert-icon {
    color: #3b82f6;
}

/* Dark theme support */
.theme-dark .alert-success {
    background-color: #064e3b;
    border-color: #065f46;
    color: #a7f3d0;
}

.theme-dark .alert-danger,
.theme-dark .alert-error {
    background-color: #7f1d1d;
    border-color: #991b1b;
    color: #fca5a5;
}

.theme-dark .alert-warning {
    background-color: #78350f;
    border-color: #92400e;
    color: #fcd34d;
}

.theme-dark .alert-info {
    background-color: #1e3a8a;
    border-color: #1d4ed8;
    color: #93c5fd;
}

/* High contrast mode */
.contrast-high .alert {
    border-width: 2px;
    font-weight: 500;
}

.contrast-high .alert-title {
    font-weight: 700;
}

/* Reduced motion */
.motion-reduced .alert {
    transition: none !important;
}

.motion-reduced .alert * {
    transition: none !important;
    animation: none !important;
}

/* Responsive adjustments */
@media (max-width: 576px) {
    .alert {
        padding: 10px 12px;
        font-size: 13px;
    }
    
    .alert-icon {
        font-size: 18px;
    }
    
    .alert-title {
        font-size: 13px;
    }
    
    .alert-message {
        font-size: 13px;
    }
}
</style>
    <table class="table bordered-table mb-0 compact stripe" id="invoicesStandaloneTable" data-table="true">
        <thead>
            <tr>
              	<th data-sortable="true">Typ</th>
              	<th data-sortable="true">Numer</th>
              	<th data-sortable="true">Sprzedaż</th>
              	<th data-sortable="true">Wystawiono</th>
              	<th data-sortable="true">Termin</th>
		<th data-sortable="true">Kontrahent</th>
		<th data-sortable="true" class="text-end">Netto</th>
		<th data-sortable="true" class="text-end">Brutto</th>
		<th data-sortable="true">Produkt</th>
		<th data-sortable="true" class="text-center">Status</th>
              	<th class="no-sort text-center">Akcje</th>
            </tr>
        </thead>
        <tbody>
{% for faktura in faktury %}
            <tr>
		<td>{{ faktura.get_typ_dokumentu_display }}</td>
              <td><a href="{% url 'szczegoly_faktury' pk=faktura.pk %}" class="text-primary-600">{{ faktura.numer }}</a></td>
              <td data-order="{{ faktura.data_sprzedazy|date:'Y-m-d' }}">{{ faktura.data_sprzedazy|date:"Y-m-d" }}</td>
              <td data-order="{{ faktura.data_wystawienia|date:'Y-m-d' }}">{{ faktura.data_wystawienia|date:"Y-m-d" }}</td>
<td data-order="{{ faktura.termin_platnosci|date:'Y-m-d' }}">{{ faktura.termin_platnosci|date:"Y-m-d" }}</td>
<td>{{ faktura.nabywca.nazwa }}</td>
<td class="text-end" data-order="{{ faktura.suma_netto }}">{{ faktura.suma_netto }} zł</td>
<td class="text-end" data-order="{{ faktura.suma_brutto }}">{{ faktura.suma_brutto }} zł</td>
              <td>{% for pozycja in faktura.pozycjafaktury_set.all %}
                            {{ pozycja.nazwa }}{% if not forloop.last %}, {% endif %}
                        {% endfor %}
</td>
              <td class="text-center" data-order="{{ faktura.status }}"> 
{% if faktura.status == 'wystawiona' %}
  <span class="bg-danger-focus text-danger-main px-24 py-4 rounded-pill fw-medium text-sm">
    {{ faktura.get_status_display }}
  </span>
{% elif faktura.status == 'oplacona' %}
  <span class="bg-success-focus text-success-main px-24 py-4 rounded-pill fw-medium text-sm">
    {{ faktura.get_status_display }}
  </span>
{% elif faktura.status == 'cz_oplacona' %}
  <span class="bg-warning-focus text-warning-main px-24 py-4 rounded-pill fw-medium text-sm">
    {{ faktura.get_status_display }}
  </span>
{% else %}
  <span class="bg-secondary-focus text-secondary-main px-24 py-4 rounded-pill fw-medium text-sm">
    {{ faktura.get_status_display }}
  </span>
{% endif %}
 </td>
              <td class="text-center">
                <div class="d-flex align-items-center justify-content-center gap-1">
                  <a href="{% url 'generuj_pdf' pk=faktura.pk%}" class="w-32-px h-32-px bg-primary-light text-primary-600 rounded-circle d-inline-flex align-items-center justify-content-center" title="Zobacz PDF">
                    <iconify-icon icon="iconamoon:eye-light"></iconify-icon>
                  </a>
                  <a href="{% url 'update_payment' pk=faktura.pk %}" class="w-32-px h-32-px bg-success-focus text-success-main rounded-circle d-inline-flex align-items-center justify-content-center" title="Edytuj">
                    <iconify-icon icon="lucide:edit"></iconify-icon>
                  </a>
                  <a href="{% url 'usun_fakture' pk=faktura.pk %}" class="w-32-px h-32-px bg-danger-focus text-danger-main rounded-circle d-inline-flex align-items-center justify-content-center" title="Usuń">
                    <iconify-icon icon="mingcute:delete-2-line"></iconify-icon>
                  </a>
                </div>
              </td>
            </tr>
            {% empty %}
                <tr><td colspan="11" class="text-center text-muted">Brak faktur do wyświetlenia.</td></tr>
            {% endfor %}
        </tbody>
    </table>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize the standalone invoices table
    if (window.TablesManager) {
        TablesManager.initializeTable('#invoicesStandaloneTable', {
            order: [[3, 'desc']], // Sort by issue date descending
            pageLength: 50, // Show more items for standalone table
            responsive: true,
            language: {
                search: "Szukaj:",
                lengthMenu: "Pokaż _MENU_ wpisów",
                info: "Pokazano _START_ do _END_ z _TOTAL_ wpisów",
                infoEmpty: "Pokazano 0 do 0 z 0 wpisów",
                infoFiltered: "(filtrowane z _TOTAL_ wszystkich wpisów)",
                paginate: {
                    first: "Pierwsza",
                    last: "Ostatnia",
                    next: "Następna",
                    previous: "Poprzednia"
                },
                emptyTable: "Brak faktur do wyświetlenia",
                zeroRecords: "Nie znaleziono pasujących rekordów"
            },
            columnDefs: [
                { targets: [2, 3, 4], type: 'date' }, // Date columns
                { targets: [6, 7], type: 'num', className: 'text-end' }, // Amount columns
                { targets: [9], className: 'text-center' }, // Status column
                { targets: [10], orderable: false, className: 'text-center' } // Actions column
            ]
        });
    }
});
</script>
(function() {'use strict'; const QuickFallback = {cdnUrls: {jquery: 'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js', bootstrap_js: 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js', bootstrap_css: 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css', apexcharts: 'https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.min.js', datatables: 'https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js' }, ensureEssentials: function() {if (typeof jQuery === 'undefined' && typeof $ === 'undefined') {console.warn('jQuery not found, loading from CDN...'); this.loadScript(this.cdnUrls.jquery, () => {console.log('jQuery loaded from CDN'); this.checkBootstrap()})}else {this.checkBootstrap()}}, checkBootstrap: function() {if (typeof bootstrap === 'undefined') {console.warn('Bootstrap JS not found, loading from CDN...'); this.loadScript(this.cdnUrls.bootstrap_js, () => {console.log('Bootstrap JS loaded from CDN')})}}, ensureApexCharts: function(callback) {if (typeof ApexCharts === 'undefined') {console.warn('ApexCharts not found, loading from CDN...'); this.loadScript(this.cdnUrls.apexcharts, () => {console.log('ApexCharts loaded from CDN'); if (callback) callback()})}else if (callback) {callback()}}, ensureDataTables: function(callback) {if (typeof $ === 'undefined') {console.error('jQuery required for DataTables'); return}if (typeof $.fn.DataTable === 'undefined') {console.warn('DataTables not found, loading from CDN...'); this.loadScript(this.cdnUrls.datatables, () => {console.log('DataTables loaded from CDN'); if (callback) callback()})}else if (callback) {callback()}}, loadScript: function(src, callback) {const script = document.createElement('script'); script.src = src; script.onload = callback; script.onerror = function() {console.error('Failed to load script from CDN:', src)}; document.head.appendChild(script)}, loadCSS: function(href) {const link = document.createElement('link'); link.rel = 'stylesheet'; link.href = href; link.onerror = function() {console.error('Failed to load CSS from CDN:', href)}; document.head.appendChild(link)}, init: function() {try {this.ensureEssentials()}catch (error) {console.error('CDN Fallback initialization failed:', error)}}}; if (document.readyState === 'loading') {document.addEventListener('DOMContentLoaded', function() {QuickFallback.init()})}else {QuickFallback.init()}window.QuickFallback = QuickFallback; window.ensureLibrary = function(library, callback) {switch (library.toLowerCase()) {case 'jquery': if (typeof jQuery !== 'undefined' || typeof $ !== 'undefined') {if (callback) callback()}else {QuickFallback.loadScript(QuickFallback.cdnUrls.jquery, callback)}break; case 'apexcharts': QuickFallback.ensureApexCharts(callback); break; case 'datatables': QuickFallback.ensureDataTables(callback); break; default: console.warn('Unknown library:', library)}}})();